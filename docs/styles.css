
:root{--bg:#0b0b0b;--fg:#f5f5f5;--muted:#a5a5a5;--accent:#e1e6ea;--card:#141414;--border:#2a2a2a}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
.container{max-width:1100px;margin:0 auto;padding:16px}
.header{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:16px}
.header h1{font-size:1.25rem;margin:0}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px}
.grid{display:grid;grid-template-columns:1fr;gap:16px}
@media (min-width: 900px){.grid{grid-template-columns:2fr 1fr}}
.small-links{display:flex;flex-wrap:wrap;gap:8px}
/* Make small-links buttons a consistent size and center their content */
.small-links .btn{display:inline-flex;align-items:center;justify-content:center;min-width:56px;padding:8px 10px;background:#1e1e1e;border:1px solid var(--border);border-radius:10px;text-align:center}
/* NATIONAL quick link should be wider than state links */
#top-links .btn{min-width:120px;padding:10px 16px}
.btn{display:inline-block;padding:10px 14px;background:#1e1e1e;border:1px solid var(--border);border-radius:10px}
.btn:focus{outline:2px solid var(--accent);outline-offset:2px}
footer{margin-top:24px;color:var(--muted);font-size:.9rem}
img.plot{width:100%;max-width:900px;display:block;margin:0 auto;border:1px solid var(--border);border-radius:10px;background:#000}
.table-wrap{overflow:auto;border-radius:10px;border:1px solid var(--border);position:relative;max-height:80vh}
table{width:100%;border-collapse:collapse;background:#111;border-left:1px solid var(--border);border-right:1px solid var(--border)}
th,td{padding:10px 12px;border-bottom:1px solid #1f1f1f;white-space:nowrap;text-align:center;border-right:1px solid var(--border)}
th{position:sticky;top:0;background:#161616;z-index:10}
tbody tr:hover{background:#151515}
/* Remove the right border from the last column for a cleaner edge */
thead th:last-child, tbody td:last-child {border-right: none}
/* Sticky first column (year) */
table th:first-child, table td:first-child{position:sticky;left:0;z-index:5;background:#161616}
table td:first-child{background:#111}
table tbody tr:hover td:first-child{background:#151515}
/* Higher z-index for first header cell to appear above sticky column */
table th:first-child{z-index:11}
/* Sticky second column (abbr) for presidential_margins table - seamless with first column */
.presidential-margins-table th:nth-child(2), .presidential-margins-table td:nth-child(2){position:sticky;left:76px;z-index:5;background:#161616;border-left:none;margin-left:-1px}
.presidential-margins-table td:nth-child(2){background:#111;border-left:none;margin-left:-1px}
.presidential-margins-table tbody tr:hover td:nth-child(2){background:#151515}
.presidential-margins-table th:nth-child(2){z-index:11}
/* Remove borders between the two sticky columns to create seamless appearance */
.presidential-margins-table th:first-child, .presidential-margins-table td:first-child{border-right:none !important}
.presidential-margins-table tbody tr:hover td:first-child{border-right:none !important}
/* Make the columns appear as one unit by overlapping slightly */
.presidential-margins-table th:nth-child(2), .presidential-margins-table td:nth-child(2){box-shadow:-1px 0 0 #161616}
.presidential-margins-table td:nth-child(2){box-shadow:-1px 0 0 #111}
.presidential-margins-table tbody tr:hover td:nth-child(2){box-shadow:-1px 0 0 #151515}
.back{margin-bottom:12px;display:inline-block}
hr{border:none;border-top:1px solid var(--border);margin:16px 0}
.legend{color:var(--muted);font-size:.95rem}
.center{text-align:center}
/* EV text: make large, readable on dark backgrounds with stroke and shadow */
#evText{position:relative;color:var(--fg);font-weight:800;padding:2px 8px;border-radius:6px;background:rgba(0,0,0,0.45);font-variant-numeric:tabular-nums}
#evText{ -webkit-text-stroke:1px rgba(0,0,0,0.8);}
/* Persistent site header that stays at the top while scrolling */
.site-header{position:sticky;top:0;z-index:1100;background:linear-gradient(180deg, rgba(11,11,11,0.98), rgba(11,11,11,0.95));backdrop-filter:blur(4px);margin-bottom:12px;border-radius:10px}
.card.site-header{padding:8px}

/* PV slider value and totals: keep spacing stable and make numbers pop */
#pvVal{display:inline-block;min-width:140px;text-align:left;font-weight:800;font-variant-numeric:tabular-nums;letter-spacing:0.2px;color:#fff;background:rgba(0,0,0,0.35);padding:3px 8px;border-radius:8px}
.pv-totals{display:flex;gap:10px;align-items:stretch;justify-content:center;margin-top:10px;flex-wrap:wrap}
.pv-badge{display:flex;gap:8px;align-items:center;justify-content:center;padding:8px 12px;border-radius:10px;border:1px solid var(--border);background:#111;box-shadow:0 1px 0 rgba(255,255,255,0.05) inset}
.pv-badge .label{font-size:.9rem;color:var(--muted);text-transform:uppercase;letter-spacing:.6px}
.pv-badge .num{font-weight:900;font-variant-numeric:tabular-nums;min-width:8ch;text-align:right;color:#fff}
.pv-badge.pv-d{background:linear-gradient(180deg, rgba(49,88,206,0.15), rgba(21,32,61,0.15));border-color:#2a3d78}
.pv-badge.pv-r{background:linear-gradient(180deg, rgba(193,55,55,0.15), rgba(66,18,18,0.15));border-color:#6d2424}
.pv-badge.pv-o{background:linear-gradient(180deg, rgba(201,164,0,0.18), rgba(72,59,0,0.15));border-color:#6b5b00}
.pv-badge.pv-total{background:linear-gradient(180deg, rgba(120,120,120,0.12), rgba(40,40,40,0.12));border-color:#3a3a3a}

/* Align raw values and inline delta consistently inside table cells */
.cell-inner{display:inline-grid;grid-auto-flow:column;align-items:center;gap:8px}
.cell-inner .raw{font-variant-numeric:tabular-nums;text-align:right;display:block}
.cell-inner .delta{color:var(--muted);white-space:nowrap;font-size:0.95rem}
/* Column explanations (definition list) styling */
.info-dl{display:grid;grid-template-columns:220px 1fr;gap:6px 16px;align-items:start;margin:0}
.info-dl dt{font-weight:700;color:var(--fg);margin:0;padding:6px 0}
.info-dl dd{margin:0;padding:6px 0;color:var(--muted);font-size:0.95rem}
@media (max-width:800px){.info-dl{grid-template-columns:1fr}}
/* Map hover tooltip */
#mapTip{position:absolute;pointer-events:none;z-index:1200;transform:translate(-50%, -120%);background:rgba(20,20,20,0.95);color:#fff;border:1px solid var(--border);border-radius:8px;padding:6px 10px;white-space:nowrap;font-weight:700;font-variant-numeric:tabular-nums;box-shadow:0 4px 12px rgba(0,0,0,0.35)}

/* Flip scenario UI */
.flip-controls{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:10px}
.flip-summary{display:flex;gap:10px;align-items:stretch;justify-content:center;margin-top:10px;flex-wrap:wrap}
.flip-badge{display:flex;gap:8px;align-items:center;justify-content:center;padding:6px 10px;border-radius:10px;border:1px solid var(--border);background:#111}
.flip-badge .label{font-size:.85rem;color:var(--muted);text-transform:uppercase;letter-spacing:.6px}
.flip-badge .num{font-weight:900;font-variant-numeric:tabular-nums;min-width:6ch;text-align:right;color:#fff}
.flip-table{width:100%;border-collapse:collapse;background:#111;margin-top:8px}
.flip-table th,.flip-table td{padding:8px 10px;border-bottom:1px solid #1f1f1f;text-align:center;white-space:nowrap}
.flip-table th{background:#161616;position:sticky;top:0}
/* Ensure flip buttons text is white for readability (consistent with Explorer) */
.flip-controls .btn{color:#fff}

/* Delta toggle UI - sticky footer */
.delta-toggle-footer{position:fixed;bottom:0;left:0;right:0;z-index:1000;background:linear-gradient(180deg, rgba(11,11,11,0.98), rgba(11,11,11,0.95));backdrop-filter:blur(4px);border-top:1px solid var(--border);padding:8px 16px;display:flex;align-items:center;justify-content:center;gap:12px}
.delta-toggle-footer .toggle-group{display:flex;align-items:center;gap:8px}
.delta-toggle-footer label{font-size:0.9rem;color:var(--fg);cursor:pointer}
.delta-toggle-footer input[type="checkbox"]{width:18px;height:18px;cursor:pointer}
/* Hide deltas when toggle is off */
.hide-deltas .delta{display:none !important}
/* Add padding to body when delta toggle is visible to prevent content being hidden behind it */
body.has-delta-toggle{padding-bottom:60px}
